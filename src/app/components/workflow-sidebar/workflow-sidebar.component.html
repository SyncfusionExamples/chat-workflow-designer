<ejs-sidebar id="default-sidebar" #sidebar [type]='type' (created)="onSideBarCreated($event)" [width]="width"
    [showBackdrop]="true" target=".main-content-wrapper">
    <div class="title sidebar-header">{{sidebarHeader}}</div>
    <div class="content">
        <!-- Place sidebar content here -->
        <form (ngSubmit)="onFormSubmit()" class="full-size-form">
            <div class="form-header">
                {{sidebarHeader}}
            </div>

            @switch(nodeEditType){
                @case(chatWorkflowEditorTypeEnum.Boolean){
                <div>
                    <input type="text" [(ngModel)]="sideBarLabel" name="question" placeholder="Enter question..."
                        class="description-box" required />

                    <div>
                        <div><button type="button" ejs-button class="e-btn e-success">Yes</button></div>
                        <div><button type="button" ejs-button class="e-btn e-danger">No</button></div>
                    </div>
                </div>
                }
                @case(chatWorkflowEditorTypeEnum.Buttons){
                <div>
                    <input type="text" [(ngModel)]="sideBarLabel" name="question" placeholder="Enter your question..."
                        class="description-box" required />

                    <div class="button-list">
                        <div *ngFor="let button of buttons; let i = index" class="button-item">
                            <button ejs-button cssClass="e-primary" style="width: 75%;">{{button.label}}</button>
                            <button ejs-button type="button" cssClass="e-danger remove-icon"
                                (click)="removeButton(i)">✖</button>
                        </div>
                    </div>

                    <div class="add-button-form">
                        <div>
                            <input #buttonLabel type="text" placeholder="Button Label" class="button-input" />
                        </div>
                        <div>
                            <input #buttonValue type="text" placeholder="Button Value" class="button-input" />
                        </div>
                        <div>
                            <button type="button" style="width: 100%;"
                                (click)="addButton(buttonLabel.value, buttonValue.value, null, buttonLabel, buttonValue, null)"
                                class="e-btn">Add Option</button>
                        </div>
                    </div>
                </div>
                }
                @case(chatWorkflowEditorTypeEnum.DropDown){
                <div>
                    <label>
                        Label:
                        <input type="text" [(ngModel)]="sideBarLabel" name="singleLabel" placeholder="Enter label..."
                            class="description-box" required />
                    </label>
                    <label>
                        Description:
                        <input type="text" [(ngModel)]="sideBarDescription" name="singleDescription"
                            placeholder="Enter description..." class="description-box" />
                    </label>

                    <label>
                        Placeholder:
                        <input type="text" [(ngModel)]="sideBarPlaceholder" name="singlePlaceholder"
                            placeholder="Enter placeholder..." class="description-box" />
                    </label>

                    <div class="button-list">
                        <div *ngFor="let button of buttons; let i = index" class="button-item">
                            <button ejs-button cssClass="e-primary" style="width: 75%;">{{button.label}}</button>
                            <button ejs-button type="button" cssClass="e-danger remove-icon"
                                (click)="removeButton(i)">✖</button>
                        </div>
                    </div>
                    <div class="add-button-form">
                        <div>
                            <input #optionLabel type="text" placeholder="Option Label" class="button-input" />
                        </div>
                        <div>
                            <input #optionValue type="text" placeholder="Option Value" class="button-input" />
                        </div>
                        <div>
                            <button type="button" style="width: 100%;"
                                (click)="addButton(optionLabel.value, optionValue.value, null, optionLabel, optionValue, null)"
                                class="e-btn">Add Option</button>
                        </div>
                    </div>
                </div>
                }
                @case(chatWorkflowEditorTypeEnum.MultiSelect){
                <div>
                    <label>
                        Label:
                        <input type="text" [(ngModel)]="sideBarLabel" name="multiLabel" placeholder="Enter label..."
                            class="description-box" required />
                    </label>
                    <label>
                        Description:
                        <input type="text" [(ngModel)]="sideBarDescription" name="multiDescription"
                            placeholder="Enter description..." class="description-box" />
                    </label>

                    <label>
                        Placeholder:
                        <input type="text" [(ngModel)]="sideBarPlaceholder" name="multiPlaceholder"
                            placeholder="Enter placeholder..." class="description-box" />
                    </label>

                    <div class="button-list">
                        <div *ngFor="let button of buttons; let i = index" class="button-item">
                            <button ejs-button cssClass="e-primary" style="width: 75%;">{{button.label}}</button>
                            <button ejs-button type="button" cssClass="e-danger remove-icon"
                                (click)="removeButton(i)">✖</button>
                        </div>
                    </div>
                    <div class="add-button-form">
                        <div>
                            <input #optionLabel type="text" placeholder="Option Label" class="button-input" />
                        </div>
                        <div>
                            <input #optionValue type="text" placeholder="Option Value" class="button-input" />
                        </div>
                        <div>
                            <button type="button" style="width: 100%;"
                                (click)="addButton(optionLabel.value, optionValue.value, null, optionLabel, optionValue, null)"
                                class="e-btn">Add Option</button>
                        </div>
                    </div>
                    <label>
                        Minimum Value:
                        <input type="number" [(ngModel)]="fieldOptionMinValue" name="fieldOptionMinValue"
                            placeholder="Enter Minimum value here" class="description-box" />
                    </label>
                    <label>
                        Maximum Value:
                        <input type="number" [(ngModel)]="fieldOptionMaxValue" name="fieldOptionMaxValue"
                            placeholder="Enter Maximum value here" class="description-box" />
                    </label>
                </div>
                }
                @case(chatWorkflowEditorTypeEnum.List){
                <div>
                    <label>
                        Label:
                        <input type="text" [(ngModel)]="sideBarLabel" name="listLabel" placeholder="Enter label..."
                            class="description-box" required />
                    </label>
                    <label>
                        Description:
                        <input type="text" [(ngModel)]="sideBarDescription" name="listDescription"
                            placeholder="Enter description..." class="description-box" />
                    </label>

                    <label>
                        Placeholder:
                        <input type="text" [(ngModel)]="sideBarPlaceholder" name="listPlaceholder"
                            placeholder="Enter placeholder..." class="description-box" />
                    </label>

                    <div class="button-list">
                        <div *ngFor="let button of buttons; let i = index" class="button-item">
                            <button ejs-button cssClass="e-primary" style="width: 75%;">{{button.label}}</button>
                            <button ejs-button type="button" cssClass="e-danger remove-icon"
                                (click)="removeButton(i)">✖</button>
                        </div>
                    </div>
                    <div class="add-button-form">
                        <div>
                            <input #optionLabel type="text" placeholder="Option Label" class="button-input" />
                        </div>
                        <div>
                            <input #optionValue type="text" placeholder="Option Value" class="button-input" />
                        </div>
                        <div>
                            <input #optionDescription type="text" placeholder="Option Description" class="button-input" />
                        </div>
                        <div>
                            <button type="button" style="width: 100%;"
                                (click)="addButton(optionLabel.value, optionValue.value, optionDescription.value, optionLabel, optionValue, optionDescription)"
                                class="e-btn">Add Option</button>
                        </div>
                    </div>
                </div>
                }
                @case(chatWorkflowEditorTypeEnum.Date || chatWorkflowEditorTypeEnum.DateTime){
                <div>
                    <label>
                        Label:
                        <input type="text" [(ngModel)]="sideBarLabel" name="inputDateLabel" placeholder="Enter label..."
                            class="description-box" required />
                    </label>
                    <label>
                        Description:
                        <input type="text" [(ngModel)]="sideBarDescription" name="inputDateDescription"
                            placeholder="Enter description..." class="description-box" />
                    </label>

                    <label>
                        Placeholder:
                        <input type="text" [(ngModel)]="sideBarPlaceholder" name="inputDatePlaceholder"
                            placeholder="Enter placeholder..." class="description-box" />
                    </label>

                    @if(chatWorkflowEditorTypeEnum.Date){
                        <label> From: <ejs-datepicker [(ngModel)]="fromDate"></ejs-datepicker></label>
                        <label> To: <ejs-datepicker [(ngModel)]="toDate"></ejs-datepicker></label>
                    }
                    @else{
                        <label> From: <ejs-datetimepicker [(ngModel)]="fromDate"></ejs-datetimepicker></label>
                        <label> To: <ejs-datetimepicker [(ngModel)]="toDate"></ejs-datetimepicker></label>
                    }
                </div>
                }
                @case(chatWorkflowEditorTypeEnum.Number){
                <div>
                    <label>
                        Label:
                        <input type="text" [(ngModel)]="sideBarLabel" name="inputNumberLabel" placeholder="Enter label..."
                            class="description-box" required />
                    </label>
                    <label>
                        Description:
                        <input type="text" [(ngModel)]="sideBarDescription" name="inputNumberDescription"
                            placeholder="Enter description..." class="description-box" />
                    </label>

                    <label>
                        Placeholder:
                        <input type="text" [(ngModel)]="sideBarPlaceholder" name="inputNumberPlaceholder"
                            placeholder="Enter placeholder..." class="description-box" />
                    </label>

                    <label>
                        Minimum Value:
                        <input type="number" [(ngModel)]="fieldOptionMinValue" name="fieldOptionMinValue"
                            placeholder="Enter Minimum value here" class="description-box" />
                    </label>
                    <label>
                        Maximum Value:
                        <input type="number" [(ngModel)]="fieldOptionMaxValue" name="fieldOptionMaxValue"
                            placeholder="Enter Maximum value here" class="description-box" />
                    </label>
                </div>
                }
                @case(chatWorkflowEditorTypeEnum.Decimal){
                <div>
                    <label>
                        Label:
                        <input type="text" [(ngModel)]="sideBarLabel" name="inputDecimalLabel" placeholder="Enter label..."
                            class="description-box" required />
                    </label>
                    <label>
                        Description:
                        <input type="text" [(ngModel)]="sideBarDescription" name="inputDecimalDescription"
                            placeholder="Enter description..." class="description-box" />
                    </label>

                    <label>
                        Placeholder:
                        <input type="text" [(ngModel)]="sideBarPlaceholder" name="inputDecimalPlaceholder"
                            placeholder="Enter placeholder..." class="description-box" />
                    </label>

                    <label>
                        Minimum Value:
                        <input type="number" [(ngModel)]="fieldOptionMinValue" name="fieldOptionMinValue"
                            placeholder="Enter Minimum value here" class="description-box" step="0.01" />
                    </label>
                    <label>
                        Maximum Value:
                        <input type="number" [(ngModel)]="fieldOptionMaxValue" name="fieldOptionMaxValue"
                            placeholder="Enter Maximum value here" class="description-box" step="0.01" />
                    </label>
                </div>
                }
                @case(chatWorkflowEditorTypeEnum.Text){
                <div>
                    <label>
                        Label:
                        <input type="text" [(ngModel)]="sideBarLabel" name="inputTextLabel" placeholder="Enter label..."
                            class="description-box" required />
                    </label>
                    <label>
                        Description:
                        <input type="text" [(ngModel)]="sideBarDescription" name="inputTextDescription"
                            placeholder="Enter description..." class="description-box" />
                    </label>

                    <label>
                        Placeholder:
                        <input type="text" [(ngModel)]="sideBarPlaceholder" name="inputTextPlaceholder"
                            placeholder="Enter placeholder..." class="description-box" />
                    </label>

                    <label>
                        Maximum Characters:
                        <input type="number" [(ngModel)]="fieldOptionMaxValue" name="fieldOptionMaxValue"
                            placeholder="Enter Maximum value here" class="description-box" />
                    </label>
                </div>
                }
                @case(chatWorkflowEditorTypeEnum.TextArea){
                <div>
                    <label>
                        Label:
                        <input type="text" [(ngModel)]="sideBarLabel" name="inputTextAreaLabel" placeholder="Enter label..."
                            class="description-box" required />
                    </label>
                    <label>
                        Description:
                        <input type="text" [(ngModel)]="sideBarDescription" name="inputTextAreaDescription"
                            placeholder="Enter description..." class="description-box" />
                    </label>

                    <label>
                        Placeholder:
                        <input type="text" [(ngModel)]="sideBarPlaceholder" name="inputTextAreaPlaceholder"
                            placeholder="Enter placeholder..." class="description-box" />
                    </label>

                    <label>
                        Maximum Characters:
                        <input type="number" [(ngModel)]="fieldOptionMaxValue" name="fieldOptionMaxValue"
                            placeholder="Enter Maximum value here" class="description-box" />
                    </label>
                </div>
                }
                @case(chatWorkflowEditorTypeEnum.Regex){
                <div>
                    <label>
                        Label:
                        <input type="text" [(ngModel)]="sideBarLabel" name="inputRegexLabel" placeholder="Enter label..."
                            class="description-box" required />
                    </label>
                    <label>
                        Description:
                        <input type="text" [(ngModel)]="sideBarDescription" name="inputRegexDescription"
                            placeholder="Enter description..." class="description-box" />
                    </label>

                    <label>
                        Placeholder:
                        <input type="text" [(ngModel)]="sideBarPlaceholder" name="inputRegexPlaceholder"
                            placeholder="Enter placeholder..." class="description-box" />
                    </label>

                    <label>
                        Regex:
                        <input type="text" [(ngModel)]="fieldOptionRegexValue" name="fieldOptionRegexValue"
                            placeholder="Enter regex here" class="description-box" />
                    </label>
                </div>
                }
            }
        </form>
    </div>
    <div class="center-align">
        <button ejs-button id="close" (click)="onCloseSideBarClick()" class="e-btn close-btn">Save & Close</button>
    </div>
</ejs-sidebar>